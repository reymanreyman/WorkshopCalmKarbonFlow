
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Calm: Windows Blueprint</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Kalm: WordPress Blueprint (Kubernetes)" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html" />
    <link rel="prev" title="Calm: Enable" href="../calm_enable/calm_enable.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

<link href="http://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

  </head><body>

  <div id="navbar" class="navbar-inverse navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/NutanixWorkshops.svg"></span>
           </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html"> <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">Technology Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../what_is_nutanix/what_is_nutanix.html">What is Nutanix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../what_is_nutanix/what_is_nutanix.html#what-is-nutanix-enterprise-os">What is Nutanix Enterprise OS?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../what_is_nutanix/what_is_nutanix.html#streamlining-the-datacenter">Streamlining The Datacenter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_nutanix/what_is_nutanix.html#nutanix-web-scale-architecture">Nutanix Web-Scale Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_nutanix/what_is_nutanix.html#the-nutanix-solution">The Nutanix Solution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_nutanix/what_is_nutanix.html#prism-central-management">Prism Central Management</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Nutanix Calm</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../what_is_calm/what_is_calm.html">What Is Calm</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../what_is_calm/what_is_calm.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../what_is_calm/what_is_calm.html#what-is-the-state-of-things-today">What is the State of Things Today</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../what_is_calm/what_is_calm.html#managing-apps-is-increasingly-challenging">Managing Apps Is Increasingly Challenging</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../what_is_calm/what_is_calm.html#how-does-nutanix-solve-this-problem">How Does Nutanix Solve This Problem</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../what_is_calm/what_is_calm.html#foundation-for-enterprise-cloud">Foundation For Enterprise Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_calm/what_is_calm.html#delivering-the-enterprise-cloud-vision">Delivering the Enterprise Cloud Vision</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_calm/what_is_calm.html#self-service-and-governance">Self-Service and Governance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#marketplace">Marketplace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#partners">Partners</a></li>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#user-case-1-self-service-app-provisioning">User Case 1: Self-Service App Provisioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#user-case-2-self-service-via-servicenow-calm">User Case 2: Self-Service via ServiceNow &amp; Calm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#role-based-access-control">Role-Based Access Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#end-to-end-audits">End-to-End Audits</a></li>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#on-prem-resource-cost">On-Prem Resource Cost</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_calm/what_is_calm.html#application-lifecycle-management">Application Lifecycle Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#calm-blueprints">Calm Blueprints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#kubernetes-with-calm">Kubernetes with Calm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#use-case-3-application-life-cycle-management">Use Case 3: Application Life Cycle Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#use-case-4-ci-cd-using-calm-and-jenkins">Use Case 4: CI/CD using Calm and Jenkins</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_calm/what_is_calm.html#multi-cloud-orchestration">Multi-Cloud Orchestration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#define-apps-once-use-everywhere-with-profiles">Define Apps Once, Use Everywhere with Profiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../what_is_calm/what_is_calm.html#compare-cloud-costs-and-predict-future-spend">Compare Cloud Costs and Predict Future Spend</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../what_is_calm/what_is_calm.html#takeaways">Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../calm_basics/basics.html">Calm Basics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../calm_basics/basics.html#accessing-calm">Accessing Calm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calm_basics/basics.html#tabbed-navigation">Tabbed Navigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calm_basics/basics.html#blueprint-editor">Blueprint Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calm_basics/basics.html#glossary">Glossary</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#project">Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#blueprint">Blueprint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#id2">Blueprint Editor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#service">Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#pod">Pod</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#action">Action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#application-profile">Application Profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#dependency">Dependency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#macro">Macro</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#application">Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#application-overview">Application Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#task-library">Task Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#marketplace">Marketplace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_basics/basics.html#takeaways">Takeaways</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Nutanix Calm Lab</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../calm_projects/calm_projects.html">Calm: Projects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../calm_projects/calm_projects.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calm_projects/calm_projects.html#creating-a-project">Creating A Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calm_projects/calm_projects.html#takeaways">Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../calm_sshkey_creation/calm_sshkey_creation.html">Calm: SSH Key Creation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../calm_sshkey_creation/calm_sshkey_creation.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calm_sshkey_creation/calm_sshkey_creation.html#macos-linux">MacOS / Linux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../calm_sshkey_creation/calm_sshkey_creation.html#ssh-key-creation">SSH Key Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_sshkey_creation/calm_sshkey_creation.html#accessing-the-private-key">Accessing the Private Key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_sshkey_creation/calm_sshkey_creation.html#accessing-the-public-key">Accessing the Public Key</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../calm_sshkey_creation/calm_sshkey_creation.html#windows">Windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../calm_sshkey_creation/calm_sshkey_creation.html#id1">SSH Key Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_sshkey_creation/calm_sshkey_creation.html#id2">Accessing the Private Key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_sshkey_creation/calm_sshkey_creation.html#id3">Accessing the Public Key</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../calm_sshkey_creation/calm_sshkey_creation.html#takeaways">Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../calm_singlevm_blueprint/calm_singlevm_blueprint.html">Calm: Single VM Blueprint</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../calm_singlevm_blueprint/calm_singlevm_blueprint.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calm_singlevm_blueprint/calm_singlevm_blueprint.html#creating-single-vm-blueprint-centos">Creating Single VM Blueprint (CentOS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../calm_singlevm_blueprint/calm_singlevm_blueprint.html#creating-blueprint">Creating Blueprint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_singlevm_blueprint/calm_singlevm_blueprint.html#blueprint-settings">Blueprint Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_singlevm_blueprint/calm_singlevm_blueprint.html#vm-details">VM Details</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_singlevm_blueprint/calm_singlevm_blueprint.html#variables">Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_singlevm_blueprint/calm_singlevm_blueprint.html#vm-configuration">VM Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_singlevm_blueprint/calm_singlevm_blueprint.html#launching-the-blueprint">Launching the Blueprint</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../calm_singlevm_blueprint/calm_singlevm_blueprint.html#takeaways">Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../calm_mysql_blueprint/calm_mysql_blueprint.html">Calm: MySQL Blueprint</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../calm_mysql_blueprint/calm_mysql_blueprint.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calm_mysql_blueprint/calm_mysql_blueprint.html#creating-blueprint-mysql">Creating Blueprint (MySQL)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../calm_mysql_blueprint/calm_mysql_blueprint.html#setting-variables">Setting Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_mysql_blueprint/calm_mysql_blueprint.html#adding-a-downloadable-image">Adding a Downloadable Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_mysql_blueprint/calm_mysql_blueprint.html#adding-db-service">Adding DB Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_mysql_blueprint/calm_mysql_blueprint.html#launching-the-blueprint">Launching the Blueprint</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../calm_mysql_blueprint/calm_mysql_blueprint.html#takeaways">Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../calm_3twa_blueprint/calm_3twa_blueprint.html">Calm: 3TWA Blueprint</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../calm_3twa_blueprint/calm_3twa_blueprint.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calm_3twa_blueprint/calm_3twa_blueprint.html#calm-blueprint-3twa">Calm Blueprint (3TWA)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../calm_3twa_blueprint/calm_3twa_blueprint.html#creating-the-web-server">Creating the Web Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_3twa_blueprint/calm_3twa_blueprint.html#adding-dependencies">Adding Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_3twa_blueprint/calm_3twa_blueprint.html#adding-replicas">Adding Replicas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_3twa_blueprint/calm_3twa_blueprint.html#creating-the-load-balancer">Creating the Load Balancer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_3twa_blueprint/calm_3twa_blueprint.html#scale-out">Scale Out</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_3twa_blueprint/calm_3twa_blueprint.html#scale-in">Scale In</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_3twa_blueprint/calm_3twa_blueprint.html#launching-and-managing-the-application">Launching and Managing the Application</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../calm_3twa_blueprint/calm_3twa_blueprint.html#takeaways">Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html">Calm: Marketplace</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html#calm-marketplace-part-1">Calm Marketplace Part 1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html#publishing-blueprints-from-marketplace-manager">Publishing Blueprints from Marketplace Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html#cloning-blueprints-from-marketplace">Cloning Blueprints from Marketplace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html#editing-cloned-blueprint">Editing Cloned Blueprint</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html#calm-marketplace-part-2">Calm Marketplace Part 2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html#publishing-blueprints">Publishing Blueprints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html#approving-blueprints">Approving Blueprints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html#configuring-project-environment">Configuring Project Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html#launching-blueprint-from-the-marketplace">Launching Blueprint from the Marketplace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html#takeaways">Takeaways</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Optional Flow Lab</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../what_is_flow/what_is_flow.html">What Is Flow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../what_is_flow/what_is_flow.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../what_is_flow/what_is_flow.html#what-is-the-state-of-things-today">What is the State of Things Today</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../what_is_flow/what_is_flow.html#why-microsegmentation">Why Microsegmentation?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_flow/what_is_flow.html#securing-hci-with-flow-microsegmentation">Securing HCI with Flow + Microsegmentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_flow/what_is_flow.html#flow-under-the-hood">Flow: Under the hood</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_flow/what_is_flow.html#why-flow">Why Flow?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_flow/what_is_flow.html#use-case-app-segmentation">Use Case: App Segmentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_flow/what_is_flow.html#use-case-vdi-microsegmentation">Use Case: VDI Microsegmentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_flow/what_is_flow.html#use-case-network-security-automation">Use Case: Network &amp; Security Automation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_flow/what_is_flow.html#isolation-policy">Isolation Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_flow/what_is_flow.html#application-security-policy">Application Security Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../what_is_flow/what_is_flow.html#quarantine-policy">Quarantine Policy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flow_enable/flow_enable.html">Flow: Enable and Lab Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../flow_enable/flow_enable.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flow_enable/flow_enable.html#enabling-microsegmentation">Enabling Microsegmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flow_enable/flow_enable.html#create-five-vms">Create Five VMs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../flow_enable/flow_enable.html#clone-the-other-four-vms">Clone the other four VMs:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../flow_enable/flow_enable.html#takeaways">Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flow_quarantine_vm/flow_quarantine_vm.html">Flow: Quarantine VM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../flow_quarantine_vm/flow_quarantine_vm.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flow_quarantine_vm/flow_quarantine_vm.html#quarantine-a-vm-and-explore-the-quarantine-policy">Quarantine a VM and Explore the Quarantine Policy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../flow_quarantine_vm/flow_quarantine_vm.html#confirm-communication-between-flow-abc-1-and-flow-abc-2">Confirm Communication between flow-abc-1 and flow-abc-2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flow_quarantine_vm/flow_quarantine_vm.html#quarantine-a-vm-and-edit-the-quarantine-policy">Quarantine a VM and Edit The Quarantine Policy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../flow_quarantine_vm/flow_quarantine_vm.html#takeaways">Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flow_isolate_environments/flow_isolate_environments.html">Flow: Isolate Environments</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../flow_isolate_environments/flow_isolate_environments.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flow_isolate_environments/flow_isolate_environments.html#isolate-environments-with-flow">Isolate Environments with Flow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../flow_isolate_environments/flow_isolate_environments.html#create-a-new-category">Create a New Category</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flow_isolate_environments/flow_isolate_environments.html#create-a-new-security-policy">Create a New Security Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flow_isolate_environments/flow_isolate_environments.html#apply-the-new-security-policy">Apply the New Security Policy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../flow_isolate_environments/flow_isolate_environments.html#confirm-communication-is-possible-before-applying-the-categories-to-the-vms">Confirm communication is possible before applying the categories to the VMs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../flow_isolate_environments/flow_isolate_environments.html#assign-a-category-to-the-vms-flow-abc-3-and-flow-abc-4">Assign a category to the VMs flow-abc-3 and flow-abc-4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../flow_isolate_environments/flow_isolate_environments.html#confirm-communication-is-not-possible-after-applying-the-categories-to-the-vms">Confirm communication is NOT possible after applying the categories to the VMs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../flow_isolate_environments/flow_isolate_environments.html#takeaways">Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flow_secure_app/flow_secure_app.html">Flow: Secure App</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../flow_secure_app/flow_secure_app.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flow_secure_app/flow_secure_app.html#secure-applications-with-microsegmentation">Secure Applications with Microsegmentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../flow_secure_app/flow_secure_app.html#create-and-assign-categories">Create and Assign Categories</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../flow_secure_app/flow_secure_app.html#update-apptype-with-new-category-value-app-abc">Update <strong>AppType</strong> with New Category Value <strong>app-abc</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../flow_secure_app/flow_secure_app.html#assign-vm-flow-abc-5-to-the-category-apptype-app-abc">Assign VM <strong>flow-abc-5</strong> to the category <strong>AppType: app-abc</strong>.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../flow_secure_app/flow_secure_app.html#assign-vm-flow-abc-1-the-default-category-environment-dev">Assign VM <strong>flow-abc-1</strong> the default category <strong>Environment: Dev</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../flow_secure_app/flow_secure_app.html#secure-the-application-vm">Secure the Application VM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../flow_secure_app/flow_secure_app.html#create-a-new-security-policy-to-protect-the-app-abc-application">Create a new security policy to protect the <strong>app-abc</strong> application.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../flow_secure_app/flow_secure_app.html#takeaways">Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flow_visualization/flow_visualization.html">Flow: Visualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../flow_visualization/flow_visualization.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flow_visualization/flow_visualization.html#id2">Flow Visualization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../flow_visualization/flow_visualization.html#add-flows-to-a-policy-using-flow-visualization">Add Flows to a Policy Using Flow Visualization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../flow_visualization/flow_visualization.html#view-the-detected-traffic-flows-from-environment-dev">View the detected traffic flows from Environment: Dev</a></li>
<li class="toctree-l4"><a class="reference internal" href="../flow_visualization/flow_visualization.html#add-the-detected-flow-to-the-security-policy">Add The Detected Flow to The Security Policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../flow_visualization/flow_visualization.html#move-policy-from-monitoring-mode-to-applied-mode">Move Policy from <strong>Monitoring</strong> Mode to <strong>Applied</strong> Mode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../flow_visualization/flow_visualization.html#takeaways">Takeaways</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Optional Labs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../calm_enable/calm_enable.html">Calm: Enable</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../calm_enable/calm_enable.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calm_enable/calm_enable.html#enabling-app-management">Enabling App Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calm_enable/calm_enable.html#adding-active-directory">Adding Active Directory</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Calm: Windows Blueprint</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-blueprint-windows">Creating Blueprint (Windows)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-blueprint">Creating Blueprint</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-variables">Setting Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-windows-service">Adding Windows Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="#package-install">Package Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="#package-uninstall">Package Uninstall</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#blueprint-launch-and-verification">Blueprint Launch and Verification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#launching-the-blueprint">Launching the Blueprint</a></li>
<li class="toctree-l3"><a class="reference internal" href="#verification">Verification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#takeaways">Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html">Kalm: WordPress Blueprint (Kubernetes)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html#adding-kubernetes-provider">Adding Kubernetes provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html#enabling-kubernetes-on-project">Enabling Kubernetes on project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html#importing-blueprint-wordpress">Importing Blueprint (WordPress)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html#configuring-blueprint-wordpress">Configuring Blueprint (WordPress)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html#setting-variables">Setting Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html#setting-pod-deployment-account">Setting Pod Deployment Account</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html#launching-the-blueprint">Launching the Blueprint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html#scaling-out-wordpress">Scaling out WordPress</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html#takeaways">Takeaways</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Karbon 1.0</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../karbon/karbon.html">Karbon</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../karbon/karbon.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../karbon/karbon.html#creating-a-karbon-cluster">Creating a Karbon Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../karbon/karbon.html#getting-started-with-kubectl">Getting Started with Kubectl</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../karbon/karbon.html#cluster-and-client-version">Cluster and client version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../karbon/karbon.html#cluster-info">Cluster info</a></li>
<li class="toctree-l3"><a class="reference internal" href="../karbon/karbon.html#running-pods">Running pods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../karbon/karbon.html#deploying-an-application">Deploying an Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../karbon/karbon.html#accessing-wordpress">Accessing Wordpress</a></li>
<li class="toctree-l2"><a class="reference internal" href="../karbon/karbon.html#exploring-logging-visualization">Exploring Logging &amp; Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../karbon/karbon.html#coming-soon">Coming Soon!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../karbon/karbon.html#takeaways">Takeaways</a></li>
<li class="toctree-l2"><a class="reference internal" href="../karbon/karbon.html#additional-kubernetes-training-resources">Additional Kubernetes Training Resources</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/glossary.html">Glossary</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendix/glossary.html#nutanix-core">Nutanix Core</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../appendix/glossary.html#aos">AOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendix/glossary.html#pulse">Pulse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendix/glossary.html#prism-element">Prism Element</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendix/glossary.html#prism-central">Prism Central</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendix/glossary.html#node">Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendix/glossary.html#block">Block</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendix/glossary.html#storage-pool">Storage Pool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendix/glossary.html#storage-container">Storage Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendix/glossary.html#anatomy-of-a-read-i-o">Anatomy of a Read I/O</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendix/glossary.html#anatomy-of-a-write-i-o">Anatomy of a Write I/O</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><p class="caption"><span class="caption-text">Technology Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../what_is_nutanix/what_is_nutanix.html">What is Nutanix</a></li>
</ul>
<p class="caption"><span class="caption-text">Nutanix Calm</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../what_is_calm/what_is_calm.html">What Is Calm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calm_basics/basics.html">Calm Basics</a></li>
</ul>
<p class="caption"><span class="caption-text">Nutanix Calm Lab</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../calm_projects/calm_projects.html">Calm: Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calm_sshkey_creation/calm_sshkey_creation.html">Calm: SSH Key Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calm_singlevm_blueprint/calm_singlevm_blueprint.html">Calm: Single VM Blueprint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calm_mysql_blueprint/calm_mysql_blueprint.html">Calm: MySQL Blueprint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calm_3twa_blueprint/calm_3twa_blueprint.html">Calm: 3TWA Blueprint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calm_marketplace/calm_marketplace.html">Calm: Marketplace</a></li>
</ul>
<p class="caption"><span class="caption-text">Optional Flow Lab</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../what_is_flow/what_is_flow.html">What Is Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow_enable/flow_enable.html">Flow: Enable and Lab Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow_quarantine_vm/flow_quarantine_vm.html">Flow: Quarantine VM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow_isolate_environments/flow_isolate_environments.html">Flow: Isolate Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow_secure_app/flow_secure_app.html">Flow: Secure App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow_visualization/flow_visualization.html">Flow: Visualization</a></li>
</ul>
<p class="caption"><span class="caption-text">Optional Labs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../calm_enable/calm_enable.html">Calm: Enable</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Calm: Windows Blueprint</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-blueprint-windows">Creating Blueprint (Windows)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-blueprint">Creating Blueprint</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-variables">Setting Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-windows-service">Adding Windows Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="#package-install">Package Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="#package-uninstall">Package Uninstall</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#blueprint-launch-and-verification">Blueprint Launch and Verification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#launching-the-blueprint">Launching the Blueprint</a></li>
<li class="toctree-l3"><a class="reference internal" href="#verification">Verification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#takeaways">Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kalm_wordpress_blueprint/kalm_wordpress_blueprint.html">Kalm: WordPress Blueprint (Kubernetes)</a></li>
</ul>
<p class="caption"><span class="caption-text">Karbon 1.0</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../karbon/karbon.html">Karbon</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <div class="section" id="calm-windows-blueprint">
<span id="id1"></span><h1>Calm: Windows Blueprint<a class="headerlink" href="#calm-windows-blueprint" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This blueprint does assume some basic Microsoft Sysprep knowledge, specifically around an <a class="reference external" href="https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/use-answer-files-with-sysprep">unattended XML answer file</a>.
Estimated time to complete: <strong>60 MINUTES</strong></p>
</div>
<p>Up to this point, we’ve been working with Linux based User VMs, and consequently, SSH.  We’ll now explore deploying a Windows based VM, and modifying it with a Powershell script, all natively via Nutanix Calm.</p>
</div>
<div class="section" id="creating-blueprint-windows">
<h2>Creating Blueprint (Windows)<a class="headerlink" href="#creating-blueprint-windows" title="Permalink to this headline">¶</a></h2>
<p>In this exercise you will create a Nutanix Calm Blueprint based on a Microsoft Windows 10 image.  The image will be sysprepped with an unattended XML answer file, and then will be added to a Domain via a Powershell script.  We’ll also add a script to remove the computer from the Domain upon deletion.</p>
<div class="section" id="creating-blueprint">
<h3>Creating Blueprint<a class="headerlink" href="#creating-blueprint" title="Permalink to this headline">¶</a></h3>
<p>From <strong>Prism Central &gt; Calm</strong>, select <strong>Blueprints</strong> from the sidebar and click <strong>+ Create Application Blueprint</strong>.</p>
<p>Specify <strong>Windows&lt;INITIALS&gt;</strong> in the <strong>Blueprint Name</strong> field.
Enter a <strong>Description</strong> in the Description field.
Select <strong>Calm</strong> from the <strong>Project</strong> drop down menu and click <strong>Proceed</strong>.</p>
<p>Click <strong>Credentials &gt;</strong> <em class="fa fa-plus-circle"></em> and enter <strong>both</strong> of the following credentials:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You’ll likely notice that both credentials have the same username and password.  For this reason, we technically could use a single credential.  However, in the real world it is extremely unlikely (and unwise) that both your User VMs and your Domain credentials are the exact same.  For that reason, we’ll leave them seperate to make this Blueprint more portable.</p>
</div>
<ul class="simple">
<li><strong>Credential Name</strong> - WIN_VM_CRED</li>
<li><strong>Username</strong> - Administrator</li>
<li><strong>Secret</strong> - Password</li>
<li><strong>Key</strong> - nutanix/4u</li>
<li><strong>Credential Name</strong> - DOMAIN_CRED</li>
<li><strong>Username</strong> - Administrator</li>
<li><strong>Secret</strong> - Password</li>
<li><strong>Password</strong> - nutanix/4u</li>
</ul>
<div class="figure">
<img alt="../_images/windows1.png" src="../_images/windows1.png" />
</div>
<p>Click <strong>Save</strong>, and then <strong>Back</strong>.</p>
</div>
<div class="section" id="setting-variables">
<h3>Setting Variables<a class="headerlink" href="#setting-variables" title="Permalink to this headline">¶</a></h3>
<p>As we’ve seen in previous labs, variables improve the extensibility of Blueprints.  For this Blueprint, we’ll want to define the domain name that the Windows VM will join to, and the IP of the Active Directory server.  We’ll leave both the <strong>Secret</strong> and <strong>Runtime</strong> variables <strong>un-checked</strong>.</p>
<p>In the <strong>Configuration Pane</strong> under <strong>Variable List</strong>, fill out the following fields:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Variable Name</strong></td>
<td><strong>Value</strong></td>
</tr>
<tr class="row-even"><td>DOMAIN</td>
<td>ntnxlab.local</td>
</tr>
<tr class="row-odd"><td>AD_IP</td>
<td>&lt;DC-VM-IP&gt; (10.X.X.40)</td>
</tr>
</tbody>
</table>
<div class="figure">
<img alt="../_images/windows2.png" src="../_images/windows2.png" />
</div>
<p>Click <strong>Save</strong>.</p>
</div>
<div class="section" id="adding-windows-service">
<h3>Adding Windows Service<a class="headerlink" href="#adding-windows-service" title="Permalink to this headline">¶</a></h3>
<p>In <strong>Application Overview &gt; Services</strong>, click <em class="fa fa-plus-circle"></em>.</p>
<p>Note that <strong>Service1</strong> appears in the <strong>Workspace</strong> and the <strong>Configuration Pane</strong> reflects the configuration of the selected Service.</p>
<p>Fill out the following fields:</p>
<ul>
<li><p class="first"><strong>Service Name</strong> - Windows10</p>
</li>
<li><p class="first"><strong>Name</strong> - Windows10_AHV</p>
</li>
<li><p class="first"><strong>Cloud</strong> - Nutanix</p>
</li>
<li><p class="first"><strong>OS</strong> - Windows</p>
</li>
<li><p class="first"><strong>VM Name</strong> - Win-&#64;&#64;{calm_array_index}&#64;&#64;-&#64;&#64;{calm_time}&#64;&#64;</p>
</li>
<li><p class="first"><strong>Image</strong> - Windows10</p>
</li>
<li><p class="first"><strong>Device Type</strong> - Disk</p>
</li>
<li><p class="first"><strong>Device Bus</strong> - SCSI</p>
</li>
<li><p class="first">Select <strong>Bootable</strong></p>
</li>
<li><p class="first"><strong>vCPUs</strong> - 2</p>
</li>
<li><p class="first"><strong>Cores per vCPU</strong> - 1</p>
</li>
<li><p class="first"><strong>Memory (GiB)</strong> - 4</p>
</li>
<li><p class="first">Select <strong>Guest Customization</strong></p>
</li>
<li><p class="first"><strong>Type</strong> - Sysprep</p>
</li>
<li><p class="first"><strong>Install Type</strong> - Prepared</p>
</li>
<li><p class="first"><strong>Script</strong> - Paste in the following Unattended XML:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;unattend</span> <span class="na">xmlns=</span><span class="s">&quot;urn:schemas-microsoft-com:unattend&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;settings</span> <span class="na">pass=</span><span class="s">&quot;specialize&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;component</span> <span class="na">xmlns:wcm=</span><span class="s">&quot;http://schemas.microsoft.com/WMIConfig/2002/State&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">name=</span><span class="s">&quot;Microsoft-Windows-Shell-Setup&quot;</span> <span class="na">processorArchitecture=</span><span class="s">&quot;amd64&quot;</span> <span class="na">publicKeyToken=</span><span class="s">&quot;31bf3856ad364e35&quot;</span> <span class="na">language=</span><span class="s">&quot;neutral&quot;</span> <span class="na">versionScope=</span><span class="s">&quot;nonSxS&quot;</span><span class="nt">&gt;</span>
         <span class="nt">&lt;ComputerName&gt;</span>Win-@@{calm_unique}@@<span class="nt">&lt;/ComputerName&gt;</span>
         <span class="nt">&lt;RegisteredOrganization&gt;</span>Nutanix<span class="nt">&lt;/RegisteredOrganization&gt;</span>
         <span class="nt">&lt;RegisteredOwner&gt;</span>Acropolis<span class="nt">&lt;/RegisteredOwner&gt;</span>
         <span class="nt">&lt;TimeZone&gt;</span>UTC<span class="nt">&lt;/TimeZone&gt;</span>
      <span class="nt">&lt;/component&gt;</span>
      <span class="nt">&lt;component</span> <span class="na">xmlns=</span><span class="s">&quot;&quot;</span> <span class="na">name=</span><span class="s">&quot;Microsoft-Windows-TerminalServices-LocalSessionManager&quot;</span> <span class="na">publicKeyToken=</span><span class="s">&quot;31bf3856ad364e35&quot;</span> <span class="na">language=</span><span class="s">&quot;neutral&quot;</span> <span class="na">versionScope=</span><span class="s">&quot;nonSxS&quot;</span> <span class="na">processorArchitecture=</span><span class="s">&quot;amd64&quot;</span><span class="nt">&gt;</span>
         <span class="nt">&lt;fDenyTSConnections&gt;</span>false<span class="nt">&lt;/fDenyTSConnections&gt;</span>
      <span class="nt">&lt;/component&gt;</span>
      <span class="nt">&lt;component</span> <span class="na">xmlns=</span><span class="s">&quot;&quot;</span> <span class="na">name=</span><span class="s">&quot;Microsoft-Windows-TerminalServices-RDP-WinStationExtensions&quot;</span> <span class="na">publicKeyToken=</span><span class="s">&quot;31bf3856ad364e35&quot;</span> <span class="na">language=</span><span class="s">&quot;neutral&quot;</span> <span class="na">versionScope=</span><span class="s">&quot;nonSxS&quot;</span> <span class="na">processorArchitecture=</span><span class="s">&quot;amd64&quot;</span><span class="nt">&gt;</span>
         <span class="nt">&lt;UserAuthentication&gt;</span>0<span class="nt">&lt;/UserAuthentication&gt;</span>
      <span class="nt">&lt;/component&gt;</span>
      <span class="nt">&lt;component</span> <span class="na">xmlns:wcm=</span><span class="s">&quot;http://schemas.microsoft.com/WMIConfig/2002/State&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">name=</span><span class="s">&quot;Networking-MPSSVC-Svc&quot;</span> <span class="na">processorArchitecture=</span><span class="s">&quot;amd64&quot;</span> <span class="na">publicKeyToken=</span><span class="s">&quot;31bf3856ad364e35&quot;</span> <span class="na">language=</span><span class="s">&quot;neutral&quot;</span> <span class="na">versionScope=</span><span class="s">&quot;nonSxS&quot;</span><span class="nt">&gt;</span>
         <span class="nt">&lt;FirewallGroups&gt;</span>
            <span class="nt">&lt;FirewallGroup</span> <span class="na">wcm:action=</span><span class="s">&quot;add&quot;</span> <span class="na">wcm:keyValue=</span><span class="s">&quot;RemoteDesktop&quot;</span><span class="nt">&gt;</span>
               <span class="nt">&lt;Active&gt;</span>true<span class="nt">&lt;/Active&gt;</span>
               <span class="nt">&lt;Profile&gt;</span>all<span class="nt">&lt;/Profile&gt;</span>
               <span class="nt">&lt;Group&gt;</span>@FirewallAPI.dll,-28752<span class="nt">&lt;/Group&gt;</span>
            <span class="nt">&lt;/FirewallGroup&gt;</span>
         <span class="nt">&lt;/FirewallGroups&gt;</span>
      <span class="nt">&lt;/component&gt;</span>
   <span class="nt">&lt;/settings&gt;</span>
   <span class="nt">&lt;settings</span> <span class="na">pass=</span><span class="s">&quot;oobeSystem&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;component</span> <span class="na">xmlns:wcm=</span><span class="s">&quot;http://schemas.microsoft.com/WMIConfig/2002/State&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">name=</span><span class="s">&quot;Microsoft-Windows-Shell-Setup&quot;</span> <span class="na">processorArchitecture=</span><span class="s">&quot;amd64&quot;</span> <span class="na">publicKeyToken=</span><span class="s">&quot;31bf3856ad364e35&quot;</span> <span class="na">language=</span><span class="s">&quot;neutral&quot;</span> <span class="na">versionScope=</span><span class="s">&quot;nonSxS&quot;</span><span class="nt">&gt;</span>
         <span class="nt">&lt;UserAccounts&gt;</span>
            <span class="nt">&lt;AdministratorPassword&gt;</span>
               <span class="nt">&lt;Value&gt;</span>@@{WIN_VM_CRED.secret}@@<span class="nt">&lt;/Value&gt;</span>
               <span class="nt">&lt;PlainText&gt;</span>true<span class="nt">&lt;/PlainText&gt;</span>
            <span class="nt">&lt;/AdministratorPassword&gt;</span>
         <span class="nt">&lt;/UserAccounts&gt;</span>
         <span class="nt">&lt;AutoLogon&gt;</span>
            <span class="nt">&lt;Password&gt;</span>
               <span class="nt">&lt;Value&gt;</span>@@{WIN_VM_CRED.secret}@@<span class="nt">&lt;/Value&gt;</span>
               <span class="nt">&lt;PlainText&gt;</span>true<span class="nt">&lt;/PlainText&gt;</span>
            <span class="nt">&lt;/Password&gt;</span>
            <span class="nt">&lt;Enabled&gt;</span>true<span class="nt">&lt;/Enabled&gt;</span>
            <span class="nt">&lt;Username&gt;</span>Administrator<span class="nt">&lt;/Username&gt;</span>
         <span class="nt">&lt;/AutoLogon&gt;</span>
         <span class="nt">&lt;FirstLogonCommands&gt;</span>
            <span class="nt">&lt;SynchronousCommand</span> <span class="na">wcm:action=</span><span class="s">&quot;add&quot;</span><span class="nt">&gt;</span>
               <span class="nt">&lt;CommandLine&gt;</span>cmd.exe /c netsh firewall add portopening TCP 5985 &quot;Port 5985&quot;<span class="nt">&lt;/CommandLine&gt;</span>
               <span class="nt">&lt;Description&gt;</span>Win RM port open<span class="nt">&lt;/Description&gt;</span>
               <span class="nt">&lt;Order&gt;</span>1<span class="nt">&lt;/Order&gt;</span>
               <span class="nt">&lt;RequiresUserInput&gt;</span>true<span class="nt">&lt;/RequiresUserInput&gt;</span>
            <span class="nt">&lt;/SynchronousCommand&gt;</span>
            <span class="nt">&lt;SynchronousCommand</span> <span class="na">wcm:action=</span><span class="s">&quot;add&quot;</span><span class="nt">&gt;</span>
               <span class="nt">&lt;CommandLine&gt;</span>powershell -Command &quot;Enable-PSRemoting -SkipNetworkProfileCheck -Force&quot;<span class="nt">&lt;/CommandLine&gt;</span>
               <span class="nt">&lt;Description&gt;</span>Enable PS-Remoting<span class="nt">&lt;/Description&gt;</span>
               <span class="nt">&lt;Order&gt;</span>2<span class="nt">&lt;/Order&gt;</span>
               <span class="nt">&lt;RequiresUserInput&gt;</span>true<span class="nt">&lt;/RequiresUserInput&gt;</span>
            <span class="nt">&lt;/SynchronousCommand&gt;</span>
            <span class="nt">&lt;SynchronousCommand</span> <span class="na">wcm:action=</span><span class="s">&quot;add&quot;</span><span class="nt">&gt;</span>
               <span class="nt">&lt;CommandLine&gt;</span>powershell -Command &quot;Set-ExecutionPolicy -ExecutionPolicy RemoteSigned&quot;<span class="nt">&lt;/CommandLine&gt;</span>
               <span class="nt">&lt;Description&gt;</span>Enable Remote-Signing<span class="nt">&lt;/Description&gt;</span>
               <span class="nt">&lt;Order&gt;</span>3<span class="nt">&lt;/Order&gt;</span>
               <span class="nt">&lt;RequiresUserInput&gt;</span>false<span class="nt">&lt;/RequiresUserInput&gt;</span>
            <span class="nt">&lt;/SynchronousCommand&gt;</span>
         <span class="nt">&lt;/FirstLogonCommands&gt;</span>
         <span class="nt">&lt;OOBE&gt;</span>
            <span class="nt">&lt;HideEULAPage&gt;</span>true<span class="nt">&lt;/HideEULAPage&gt;</span>
            <span class="nt">&lt;SkipMachineOOBE&gt;</span>true<span class="nt">&lt;/SkipMachineOOBE&gt;</span>
         <span class="nt">&lt;/OOBE&gt;</span>
      <span class="nt">&lt;/component&gt;</span>
      <span class="nt">&lt;component</span> <span class="na">xmlns:wcm=</span><span class="s">&quot;http://schemas.microsoft.com/WMIConfig/2002/State&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">name=</span><span class="s">&quot;Microsoft-Windows-International-Core&quot;</span> <span class="na">processorArchitecture=</span><span class="s">&quot;amd64&quot;</span> <span class="na">publicKeyToken=</span><span class="s">&quot;31bf3856ad364e35&quot;</span> <span class="na">language=</span><span class="s">&quot;neutral&quot;</span> <span class="na">versionScope=</span><span class="s">&quot;nonSxS&quot;</span><span class="nt">&gt;</span>
         <span class="nt">&lt;InputLocale&gt;</span>en-US<span class="nt">&lt;/InputLocale&gt;</span>
         <span class="nt">&lt;SystemLocale&gt;</span>en-US<span class="nt">&lt;/SystemLocale&gt;</span>
         <span class="nt">&lt;UILanguageFallback&gt;</span>en-us<span class="nt">&lt;/UILanguageFallback&gt;</span>
         <span class="nt">&lt;UILanguage&gt;</span>en-US<span class="nt">&lt;/UILanguage&gt;</span>
         <span class="nt">&lt;UserLocale&gt;</span>en-US<span class="nt">&lt;/UserLocale&gt;</span>
      <span class="nt">&lt;/component&gt;</span>
   <span class="nt">&lt;/settings&gt;</span>
<span class="nt">&lt;/unattend&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This Unattended XML answer file will set some basic computer information such as hostname and organization, configure the Administrator password to our WIN_VM_CRED secret, open Powershell port 5985 in the firewall, and enable remote Powershell functionality.</p>
</div>
<div class="figure">
<img alt="../_images/windows3.png" src="../_images/windows3.png" />
</div>
</li>
<li><p class="first">Select <em class="fa fa-plus-circle"></em> under <strong>Network Adapters (NICs)</strong></p>
</li>
<li><p class="first"><strong>NIC</strong> - Primary</p>
</li>
<li><p class="first"><strong>Credential</strong> - Select WIN_VM_CRED and leave the rest of the fields as default</p>
<div class="figure">
<img alt="../_images/windows4.png" src="../_images/windows4.png" />
</div>
</li>
</ul>
<p>Click <strong>Save</strong> and ensure no errors or warnings pop-up.  If they do, resolve the issue, and <strong>Save</strong> again.</p>
</div>
<div class="section" id="package-install">
<h3>Package Install<a class="headerlink" href="#package-install" title="Permalink to this headline">¶</a></h3>
<p>With the Windows10 service icon selected in the workspace window, scroll to the top of the <strong>Configuration Panel</strong>, click <strong>Package</strong>.  Name the Package as <strong>WIN_PACKAGE</strong>, and then click the <strong>Configure install</strong> button.</p>
<p>On the Blueprint Canvas section, a <strong>Package Install</strong> field will pop up next to the Windows10 Service tile:</p>
<div class="figure">
<img alt="../_images/windows5.png" src="../_images/windows5.png" />
</div>
<p>Click on the <strong>+ Task</strong> button, and fill out the following fields on the <strong>Configuration Panel</strong> on the right:</p>
<ul class="simple">
<li><strong>Name Task</strong> - JoinDomain</li>
<li><strong>Type</strong> - Execute</li>
<li><strong>Script Type</strong> - Powershell</li>
<li><strong>Credential</strong> - WIN_VM_CRED</li>
</ul>
<p>Copy and paste the following script into the <strong>Script</strong> field:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$HOSTNAME</span> <span class="p">=</span> <span class="s2">&quot;Win-@@{calm_unique}@@&quot;</span>

<span class="k">function</span> <span class="nb">Set-Hostname</span><span class="p">{</span>
  <span class="p">[</span><span class="k">CmdletBinding</span><span class="p">()]</span>
  <span class="k">Param</span><span class="p">(</span>
      <span class="p">[</span><span class="k">parameter</span><span class="p">(</span><span class="k">Mandatory</span><span class="p">=</span><span class="nv">$true</span><span class="p">)]</span>
      <span class="no">[string]</span><span class="nv">$Hostname</span>
<span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$Hostname</span> <span class="o">-eq</span>  <span class="p">$(</span><span class="n">hostname</span><span class="p">)){</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;Hostname already set.&quot;</span>
  <span class="p">}</span> <span class="k">else</span><span class="p">{</span>
    <span class="nb">Rename-Computer</span> <span class="n">-NewName</span> <span class="nv">$HOSTNAME</span> <span class="n">-ErrorAction</span> <span class="n">Stop</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">function</span> <span class="n">JointoDomain</span> <span class="p">{</span>
  <span class="p">[</span><span class="k">CmdletBinding</span><span class="p">()]</span>
  <span class="k">Param</span><span class="p">(</span>
      <span class="p">[</span><span class="k">parameter</span><span class="p">(</span><span class="k">Mandatory</span><span class="p">=</span><span class="nv">$true</span><span class="p">)]</span>
      <span class="no">[string]</span><span class="nv">$DomainName</span><span class="p">,</span>
      <span class="p">[</span><span class="k">parameter</span><span class="p">(</span><span class="k">Mandatory</span><span class="p">=</span><span class="nv">$false</span><span class="p">)]</span>
      <span class="no">[string]</span><span class="nv">$OU</span><span class="p">,</span>
      <span class="p">[</span><span class="k">parameter</span><span class="p">(</span><span class="k">Mandatory</span><span class="p">=</span><span class="nv">$true</span><span class="p">)]</span>
      <span class="no">[string]</span><span class="nv">$Username</span><span class="p">,</span>
      <span class="p">[</span><span class="k">parameter</span><span class="p">(</span><span class="k">Mandatory</span><span class="p">=</span><span class="nv">$true</span><span class="p">)]</span>
      <span class="no">[string]</span><span class="nv">$Password</span><span class="p">,</span>
      <span class="p">[</span><span class="k">parameter</span><span class="p">(</span><span class="k">Mandatory</span><span class="p">=</span><span class="nv">$true</span><span class="p">)]</span>
      <span class="no">[string]</span><span class="nv">$Server</span>
  <span class="p">)</span>
  <span class="nv">$adapter</span> <span class="p">=</span> <span class="nb">Get-NetAdapter</span> <span class="p">|</span> <span class="p">?</span> <span class="p">{</span><span class="nv">$_</span><span class="p">.</span><span class="n">Status</span> <span class="o">-eq</span> <span class="s2">&quot;up&quot;</span><span class="p">}</span>
  <span class="nv">$adapter</span> <span class="p">|</span> <span class="nb">Set-DnsClientServerAddress</span> <span class="n">-ServerAddresses</span> <span class="nv">$Server</span>

  <span class="k">if</span> <span class="p">(</span><span class="nv">$env:computername</span>  <span class="o">-eq</span> <span class="nv">$env:userdomain</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;Not in domain&quot;</span>
    <span class="nv">$adminname</span> <span class="p">=</span> <span class="s2">&quot;$DomainName\$Username&quot;</span>
    <span class="nv">$adminpassword</span> <span class="p">=</span> <span class="nb">ConvertTo-SecureString</span> <span class="n">-asPlainText</span> <span class="n">-Force</span> <span class="n">-String</span> <span class="s2">&quot;$Password&quot;</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;$adminname , $password&quot;</span>
    <span class="nv">$credential</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">System</span><span class="p">.</span><span class="n">Management</span><span class="p">.</span><span class="n">Automation</span><span class="p">.</span><span class="n">PSCredential</span><span class="p">(</span><span class="nv">$adminname</span><span class="p">,</span><span class="nv">$adminpassword</span><span class="p">)</span>
    <span class="nb">Add-computer</span> <span class="n">-DomainName</span> <span class="nv">$DomainName</span> <span class="n">-Credential</span> <span class="nv">$credential</span> <span class="n">-force</span> <span class="n">-Options</span> <span class="n">JoinWithNewName</span><span class="p">,</span><span class="n">AccountCreate</span> <span class="n">-PassThru</span> <span class="n">-ErrorAction</span> <span class="n">Stop</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
     <span class="nb">Write-Host</span> <span class="s2">&quot;Already in domain&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$HOSTNAME</span> <span class="o">-ne</span> <span class="nv">$Null</span><span class="p">){</span>
  <span class="nb">Write-Host</span> <span class="s2">&quot;Setting Hostname&quot;</span>
  <span class="nb">Set-Hostname</span> <span class="n">-Hostname</span> <span class="nv">$HOSTNAME</span>
<span class="p">}</span>

<span class="n">JointoDomain</span> <span class="n">-DomainName</span> <span class="s2">&quot;@@{DOMAIN}@@&quot;</span> <span class="n">-Username</span> <span class="s2">&quot;@@{DOMAIN_CRED.username}@@&quot;</span> <span class="n">-Password</span> <span class="s2">&quot;@@{DOMAIN_CRED.secret}@@&quot;</span> <span class="n">-Server</span> <span class="s2">&quot;@@{AD_IP}@@&quot;</span>

<span class="nb">Restart-Computer</span> <span class="n">-Force</span> <span class="n">-AsJob</span>
<span class="n">exit</span> <span class="n">0</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Looking at the script you can see a function that sets the VM’s hostname if it is not already set, a function that joins the computer to the domain specified via our macro and credentials that we set earlier, and finally restarts the user VM so the domain join takes affect.</p>
</div>
</div>
<div class="section" id="package-uninstall">
<h3>Package Uninstall<a class="headerlink" href="#package-uninstall" title="Permalink to this headline">¶</a></h3>
<p>Select the Windows10 service icon in the workspace window again and scroll to the top of the <strong>Configuration Panel</strong>, click <strong>Package</strong>.</p>
<ul class="simple">
<li><strong>Click</strong> - Configure Uninstall</li>
<li><strong>Click</strong> - + Task</li>
<li><strong>Name Task</strong> - RemoveDomain</li>
<li><strong>Type</strong> - Execute</li>
<li><strong>Script Type</strong> - Powershell</li>
<li><strong>Credential</strong> - WIN_VM_CRED</li>
</ul>
<p>Copy and paste the following script into the <strong>Script</strong> field:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$HOSTNAME</span> <span class="p">=</span> <span class="s2">&quot;Win-@@{calm_unique}@@&quot;</span>

<span class="k">function</span> <span class="n">RemoveFromDomain</span> <span class="p">{</span>
  <span class="p">[</span><span class="k">CmdletBinding</span><span class="p">()]</span>
  <span class="k">Param</span><span class="p">(</span>
      <span class="p">[</span><span class="k">parameter</span><span class="p">(</span><span class="k">Mandatory</span><span class="p">=</span><span class="nv">$true</span><span class="p">)]</span>
      <span class="no">[string]</span><span class="nv">$DomainName</span><span class="p">,</span>
      <span class="p">[</span><span class="k">parameter</span><span class="p">(</span><span class="k">Mandatory</span><span class="p">=</span><span class="nv">$false</span><span class="p">)]</span>
      <span class="no">[string]</span><span class="nv">$OU</span><span class="p">,</span>
      <span class="p">[</span><span class="k">parameter</span><span class="p">(</span><span class="k">Mandatory</span><span class="p">=</span><span class="nv">$true</span><span class="p">)]</span>
      <span class="no">[string]</span><span class="nv">$Username</span><span class="p">,</span>
      <span class="p">[</span><span class="k">parameter</span><span class="p">(</span><span class="k">Mandatory</span><span class="p">=</span><span class="nv">$true</span><span class="p">)]</span>
      <span class="no">[string]</span><span class="nv">$Password</span><span class="p">,</span>
  <span class="p">)</span>
  <span class="nv">$adapter</span> <span class="p">=</span> <span class="nb">Get-NetAdapter</span> <span class="p">|</span> <span class="p">?</span> <span class="p">{</span><span class="nv">$_</span><span class="p">.</span><span class="n">Status</span> <span class="o">-eq</span> <span class="s2">&quot;up&quot;</span><span class="p">}</span>
  <span class="nv">$adapter</span> <span class="p">|</span> <span class="nb">Set-DnsClientServerAddress</span> <span class="n">-ServerAddresses</span> <span class="nv">$Server</span>

  <span class="nv">$adminname</span> <span class="p">=</span> <span class="s2">&quot;$DomainName\$Username&quot;</span>
  <span class="nv">$adminpassword</span> <span class="p">=</span> <span class="nb">ConvertTo-SecureString</span> <span class="n">-asPlainText</span> <span class="n">-Force</span> <span class="n">-String</span> <span class="s2">&quot;$Password&quot;</span>
  <span class="nb">Write-Host</span> <span class="s2">&quot;$adminname , $password&quot;</span>
  <span class="nv">$credential</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">System</span><span class="p">.</span><span class="n">Management</span><span class="p">.</span><span class="n">Automation</span><span class="p">.</span><span class="n">PSCredential</span><span class="p">(</span><span class="nv">$adminname</span><span class="p">,</span><span class="nv">$adminpassword</span><span class="p">)</span>
  <span class="nb">Remove-computer</span> <span class="n">-UnjoinDomaincredential</span> <span class="nv">$credential</span> <span class="n">-PassThru</span> <span class="n">-Verbose</span> <span class="n">-Force</span>
  <span class="nb">Write-Host</span> <span class="s2">&quot;Removed from domain @@{DOMAIN}@@&quot;</span>
<span class="p">}</span>

<span class="n">RemoveFromDomain</span> <span class="n">-DomainName</span> <span class="s2">&quot;@@{DOMAIN}@@&quot;</span> <span class="n">-Username</span> <span class="s2">&quot;@@{DOMAIN_CRED.username}@@&quot;</span> <span class="n">-Password</span> <span class="s2">&quot;@@{DOMAIN_CRED.secret}@@&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This script contains a function which removes the computer from the domain, utilizing the DOMAIN_CRED credentials that we defined earlier.</p>
</div>
<p>Click <strong>Save</strong>. You will be prompted with specific errors if there are validation issues such as missing fields or unacceptable characters.</p>
</div>
</div>
<div class="section" id="blueprint-launch-and-verification">
<h2>Blueprint Launch and Verification<a class="headerlink" href="#blueprint-launch-and-verification" title="Permalink to this headline">¶</a></h2>
<div class="section" id="launching-the-blueprint">
<h3>Launching the Blueprint<a class="headerlink" href="#launching-the-blueprint" title="Permalink to this headline">¶</a></h3>
<p>From the toolbar at the top of the Blueprint Editor, click <strong>Launch</strong>.</p>
<p>In the <strong>Name of the Application</strong> field, specify a unique name (e.g. Windows-<em>&lt;INITIALS&gt;</em>-1).</p>
<p>Click <strong>Create</strong>.</p>
<p>You will be taken directly to the <strong>Applications</strong> page to monitor the provisioning of your Blueprint.</p>
<p>Select <strong>Audit &gt; Create</strong> to view the progress of your application. You’ll likely notice that the <strong>Windows10_AHV - Check Login</strong> takes some time to complete, as not only do we have to wait for the VM to power on, we have to wait for it to get Sysprepped with our Unattended XML file.  Once the login task is complete, select the <strong>JoinDomain</strong> task to view the output of our domain join script.</p>
<p>Note the status changes to <strong>Running</strong> after the Blueprint has been successfully provisioned.</p>
<div class="figure">
<img alt="../_images/windows6.png" src="../_images/windows6.png" />
</div>
</div>
<div class="section" id="verification">
<h3>Verification<a class="headerlink" href="#verification" title="Permalink to this headline">¶</a></h3>
<p>Once the application is in a <strong>Running</strong> state, click on the <strong>Services</strong> tab, then select the <strong>Windows10</strong> service.  On the pane that opens to the right, copy the <strong>Name</strong> of the VM (it should be named something like Win-0-123456-789012).  Next, click on the <strong>Explore</strong> tab at the very top of Prism Central, ensure <strong>VMs</strong> is selected on the left side, and paste in the name of your VM to filter.</p>
<div class="figure">
<img alt="../_images/windows7.png" src="../_images/windows7.png" />
</div>
<p>Next, select your VM as shown above, then click the <strong>Actions</strong> button near the top, and then select <strong>Launch Console</strong>.  You should now be able to access your Windows VM.</p>
<div class="figure">
<img alt="../_images/windows8.png" src="../_images/windows8.png" />
</div>
<p>At this point you’re welcome to run the <strong>Delete</strong> action to clean up your application and underlying VM.  Alternatively, you could run the <strong>Soft Delete</strong> action, which deletes the application from Calm’s point of view, but <strong>leaves</strong> the underlying VM(s) up and running.  This is useful when the VM will be used and managed perpetually by an end user, and isn’t needed to be managed by Calm.</p>
</div>
</div>
<div class="section" id="takeaways">
<h2>Takeaways<a class="headerlink" href="#takeaways" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>In addition to Linux VM management with shell scripts, Nutanix Calm can natively manage Windows VMs via Powershell and Sysprep.</li>
<li>Although the labs have focused solely on either Linux or Windows, Calm also supports managing different OSes within the same blueprint.  You can even manage VMs on different clouds, all within the same blueprint.</li>
<li>Calm’s system defined <strong>Soft Delete</strong> action allows you to delete an application from Calm, without affecting the underlying VMs, which is useful for Jumpboxes and Developer workstations.</li>
</ul>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/calm_windows_blueprint/calm_windows_blueprint.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2019 Nutanix.<br/>
    </p>
  </div>
</footer>
  </body>
</html>